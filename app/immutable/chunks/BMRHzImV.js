import{ao as h,ap as b,e as k,aq as v,m as g,aj as S,F as x,a0 as E,ar as j,as as M}from"./DPIc2BRZ.js";import{l as $}from"./DMVaPQo7.js";import{c as w}from"./CReu6IM7.js";function q(e,r,s=r){var o=h();$(e,"input",n=>{e.type==="checkbox"&&b();var a=n?e.defaultValue:e.value;if(a=_(e)?u(a):a,s(a),o&&a!==(a=r())){var t=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=t,e.selectionEnd=Math.min(l,e.value.length))}}),(g&&e.defaultValue!==e.value||k(r)==null&&e.value)&&s(_(e)?u(e.value):e.value),v(()=>{e.type==="checkbox"&&b();var n=r();_(e)&&n===u(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function _(e){var r=e.type;return r==="number"||r==="range"}function u(e){return e===""?null:+e}function I(e,r){v(()=>{const s=new Map,o=e(),n=E(o)?o:o==null?[]:Array.from(o),a=n.length;for(let t=0;t<a;t++){const l=r(n[t],t);if(s.has(l)){const f=String(s.get(l)),i=String(t);let c=String(l);c.startsWith("[object ")&&(c=null),j(f,i,c)}s.set(l,t)}})}function L(e,r,s,o,n){var l;var a=!1,t=(l=S)==null?void 0:l[x];v(()=>{if(!a){var[f,i]=w(r);if(!i){var c=s(),d=!1,y=v(()=>{d||f[c]});if(d=!0,y.deps===null){var m=`${t}:${o}:${n}`;M(e,m),a=!0}}}})}export{I as a,q as b,L as v};
